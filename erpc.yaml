logLevel: warn
database:
  evmJsonRpcCache:
    connectors:
      - id: memory-cache
        driver: memory
      - id: redis-cache
        driver: redis
        redis:
          addr: redis://localhost:6379
    policies:
      - network: "*"
        method: "*"
        finality: realtime
        empty: allow
        connector: memory-cache
        ttl: 2s
      - network: "*"
        method: "*"
        finality: unfinalized
        empty: allow
        connector: redis-cache
        ttl: 10s
server:
  httpHostV4: 0.0.0.0
  httpPortV4: 4000
  maxTimeout: 50s
metrics:
  enabled: true
  hostV4: 0.0.0.0
  port: 4001
projects:
  - id: main
    auth:
      strategies:
        - type: secret
          secret:
            id: default
            value: "${ERPC_SECRET}"
    upstreams:
      - id: public-endpoints
        endpoint: repository://evm-public-endpoints.erpc.cloud
        rateLimitBudget: global
        failsafe:
          timeout:
            duration: 10s
          retry:
            maxAttempts: 2
            delay: 1000ms
            backoffMaxDelay: 10s
            backoffFactor: 0.3
      - id: superchain-endpoints
        endpoint: superchain://github.com/ethereum-optimism/superchain-registry/main/chainList.json
        rateLimitBudget: global
        failsafe:
          timeout:
            duration: 10s
          retry:
            maxAttempts: 2
            delay: 1000ms
            backoffMaxDelay: 10s
            backoffFactor: 0.3
rateLimiters:
  budgets:
    - id: global
      rules:
        - method: '*'
          maxCount: 50
          period: 1s